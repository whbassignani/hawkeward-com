// Variables
$headerHeight:      80px;

// Styles
body {
  @include transition(all $animation-time);

  &:after {
    @include transition(all $animation-time);

    content: "";
    display: block;
    opacity: 0;
    visibility: hidden;
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    top: 0;
    z-index: 2;
    background-color: rgba($bright-blue, 0.66667);
  }

  &.is-nav-opened {
    @include transform(translateX(-$nav-width));

    &:after {
      display: block;
      opacity: 1;
      visibility: visible;
    }
  }
}

#MainNav {
//   @include transition(all 0.3s cubic-bezier(0.19, 1, 0.22, 1));
//   @include transform(translateX(100%));
//   @include box-shadow(-500px, 0, 0, rgba(red, 0.5));
  
  clear: both;
  padding-top: $headerHeight;
  width: $nav-width;
  position: fixed;
  bottom: 0;
  left: 100%;
  top: 0;
  z-index: 1;
  background-color: $bright-blue;

  @include mq($bp-medium) {
  	clear: none;
  	float: right;
  	height: 40px;
  	margin: 0 -10px 0 0;
  	position: relative;
  	top: -2px;
  	background-color: transparent;
  	
  	.lt-ie9 & {
  		width: 500px;
  	}
  }
}

#MainNav-links {
  margin: 0;
  padding: 0;
  list-style: none;
}

.MainNav-link {
  padding: $gutter-tiny $gutter-small;
  
  & + & {
    border-top: 1px solid lighten(desaturate($black, 20%), 10%);
  }

  a {
    display: block;
    color: $light-grey;
    text-decoration: none;
  }

  @include mq($bp-medium) {
  	display: inline-block;
  	padding: 0;
  	position: relative;
  	line-height: 1;
  	vertical-align: middle;
  	
  	& + .header-Nav-link {
  		margin-left: 4px;
  	}
  	
  	& + & {
  		border-top: 0;
  	}
  	
  	a {
  		@include border-radius(6px);
  		@include transition(color 0.2s, background-color 0.2s);
  		
  		display: block;
  		padding: 5px 10px;
  		color: $dark-grey;
  
  		&:hover {
  			background-color: $black;
  			color: $white;
  		}
  	}
  	
  	a.header-Nav-link--email:hover {
  		color: $bright-blue;
  	}
  	
  	a.header-Nav-link--twitter:hover {
  		color: $twitter-blue;
  	}
  
  	.lt-ie9 & {
  		float: left;
  		width: 150px;
  	}
  }
}

#MobileNavOpener {
  @include border-radius(2px);
  @include box-shadow (0, 1px, 2px, rgba($black, 0.05));
  @include transition(background-color $animation-time);
  @include transform(translateY(-50%));
  
  margin: 0;
  padding: 3px 6px;
  position: absolute;
  right: $gutter-small;
  top: 50%;
  z-index: 3;
  border: 1px solid $light-grey;
  outline: none;
  color: $black;
  font-size: .67em;
  font-weight: 700;
  text-decoration: none;
  text-transform: uppercase;

  .is-nav-opened & {
    background-color: $white;
    border-color: $bright-blue;
  }

  &:hover {
    @include box-shadow (0, 1px, 2px, rgba($black, 0.15));

    background-color: $off-white;
  }
  
  &:active {
    @include box-shadow (0, 0, 2px, rgba($black, 0.15));

    margin-top: 1px;
  }
  
  @include mq($bp-medium) {
    display: none;
  }
}